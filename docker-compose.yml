version: "3.7"

services:
  print-server:
    image: node:20
    working_dir: /app
    volumes:
      - ./server.js:/app/server.js
      - ./package.json:/app/package.json
    command: bash -c "npm install && node server.js"
    environment:
      PGHOST: postgres # OU o nome do serviço Postgres já existente
      PGPORT: 5432
      PGUSER: postgres
      PGPASSWORD: Mfcd62!!Mfcd62!!
      PGDATABASE: postgres
      TZ: America/Sao_Paulo
    depends_on: []
    ports:
      - "3000:3000"
    networks:
      - network_public

volumes:
  postgres_data:

networks:
  network_public:
    external: true
