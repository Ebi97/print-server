services:
  print-server:
    image: joaopedrosb1/print-server:latest
    environment:
      PGHOST: postgres
      PGPORT: 5432
      PGUSER: postgres
      PGPASSWORD: Mfcd62!!Mfcd62!!
      PGDATABASE: postgres
      TZ: America/Sao_Paulo
    networks:
      - network_public
    deploy:
      labels:
        - "traefik.enable=true"
        - "traefik.docker.network=network_public"
        - "traefik.http.routers.print-server.rule=Host(`print.muzai-saas.shop`)"
        - "traefik.http.routers.print-server.entrypoints=websecure"
        - "traefik.http.routers.print-server.tls=true"
        - "traefik.http.routers.print-server.tls.certresolver=letsencryptresolver"
        - "traefik.http.services.print-server.loadbalancer.server.port=3000"
networks:
  network_public:
    external: true
